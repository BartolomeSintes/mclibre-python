<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Números y operaciones aritméticas elementales. Python. Bartolomé Sintes Marco. www.mclibre.org</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../varios/python.css" title="mclibre">
  <link rel="icon" href="../varios/favicon.svg">
  <link rel="stylesheet" href="../varios/prism.css">
  <script src="../varios/prism.js"></script>
</head>

<body>
  <h1>Números y operaciones aritméticas elementales</h1>

  <nav>
    <p>
      <a href="../index.html"><img src="../varios/iconos/icono-python.svg" alt="Índice de Python" title="Índice de Python" width="48" height="48"></a>
      <a href="#"><img src="../varios/iconos/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36"></a>
    </p>

    <div class="toc">
      <h2>Números y operaciones</h2>

      <ul>
        <li><a href="#tipos-numericos">Tipos de datos numéricos</a>
          <ul>
            <li><a href="#enteros-decimales">Enteros y decimales</a></li>
            <li><a href="#complejos">Complejos</a></li>
          </ul>
        </li>
        <li><a href="#operaciones-basicas">4 operaciones básicas</a></li>
        <li><a href="#cociente-resto">Cociente y resto división</a>
          <ul>
            <li><a href="#cociente-division">Cociente</a></li>
            <li><a href="#resto-division">Resto</a></li>
            <li><a href="#divmod"><span class="idle-func">divmod</span>()</a></li>
          </ul>
        </li>
        <li><a href="#potencias">Potencias y raíces</a></li>
        <li><a href="#redondear">Redondear</a>
          <ul>
            <li><a href="#redondear-round"><span class="idle-func">round</span>()</a></li>
            <li><a href="#redondear-floor-ceil"><span class="idle-func">floor</span>() y <span class="idle-func">ceil</span>()</a></li>
          </ul>
        </li>
        <li><a href="#decimales-binario">Decimales en binario</a></li>
        <li><a href="#funciones-integradas">Otras funciones</a>
          <ul>
            <li><a href="#valor-absoluto">Valor absoluto</a></li>
            <li><a href="#maximo">Máximo</a></li>
            <li><a href="#minimo">Mínimo</a></li>
            <li><a href="#suma">Suma</a></li>
            <li><a href="#ordenacion">Ordenación</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <p>En esta lección se tratan los tipos de datos numéricos y las operaciones aritméticas elementales en Python.</p>

  <section id="tipos-numericos">
    <h2>Tipos de datos numéricos: enteros, decimales y números complejos</h2>

    <section id="enteros-decimales">
      <h3>Enteros y decimales</h3>

      <p>Python distingue entre números enteros y decimales. Al escribir un número decimal, el separador entre la parte entera y la parte decimal es un punto.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 3
3
<span class="python-prompt">&gt;&gt;&gt;</span> 4.5
4.5</code>
</pre>
      </div>

      <p><strong>Nota</strong>:</p>
      <ul>
        <li><img src="../varios/iconos/icono-warning.svg" alt="¡Atención!" title="¡Atención!" width="55" height="48">Si se escribe una coma como separador entre la parte entera y la decimal, Python no lo entiende como separador, sino como una pareja de números (concretamente, lo entiende como una tupla de dos elementos, un tipo de datos que se comenta en la <a href="python-tupla.html">lección sobre tuplas</a>).

          <div class="terminal">
            <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 3,5
(3, 5)</code>
</pre>
          </div>
        </li>
      </ul>

      <p>Si se escribe un número con parte decimal 0, Python considera el número como número decimal.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 3.0
3.0</code>
</pre>
      </div>

      <p>Se puede escribir un número decimal sin parte entera, pero lo habitual es escribir siempre la parte entera:</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> .3
0.3</code>
</pre>
      </div>
    </section>

    <section id="complejos">
      <h3>Números complejos</h3>

      <p>Python puede hacer cálculos con número complejos. La parte imaginaria se acompaña de la letra "j".</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 1 + 1j + 2 + 3j
(3+4j)
<span class="python-prompt">&gt;&gt;&gt;</span> (1 + 1j) * 1j
(-1+1j)</code>
</pre>
      </div>

      <p>La letra "j" debe ir acompañada siempre de un número y unida a él.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 1 + j
Traceback (most recent call last):
  File <span class="error-message">"&lt;python-input-2&gt;"</span>, line <span class="error-message">1</span>, in <span class="error-message">&lt;module&gt;</span>
    1 + <span class="error-message-highlight">j</span>
        <span class="error-message-highlight">^</span>
<span class="error-message"><strong>NameError</strong>: name 'j' is not defined</span>
<span class="python-prompt">&gt;&gt;&gt;</span> 1 + 1 j
Traceback (most recent call last):
  File <span class="error-message">"&lt;python-input-3&gt;"</span>, line <span class="error-message">1</span>
    1 + 1 <span class="error-message-highlight">j</span>
          <span class="error-message-highlight">^</span>
<span class="error-message"><strong>NameError</strong>: name 'j' is not defined</span>
<span class="python-prompt">&gt;&gt;&gt;</span> 1 + 1j
(1+1j)</code>
</pre>
      </div>

      <p>El resultado de una operación en la que intervienen números complejos es un número complejo, aunque el resultado no tenga parte imaginaria.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 1j * 1j
(-1+0j)</code>
</pre>
      </div>
    </section>

    <section id="guion-bajo">
      <h3>Notación de números con guiones bajos</h3>

      <p>Desde Python 3.6 (publicado en diciembre de 2016), Python permite intercalar guiones bajos (_) en cualquier número. Este carácter no tiene ningún significado matemático, simplemente se puede utilizar para facilitar al programador la lectura de números largos en el código fuente o al usuario de un programa la introducción de números largos. El intérprete de Python no lo utiliza al escribir los resultados.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 100_000 + 1_000_000
1100000</code>
</pre>
      </div>

      <p>El guion bajo suele utilizarse para separar miles, millones, etc. pero se puede utilizar en cualquier posición.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 100_000 + 0.000_001
100000.000001
<span class="python-prompt">&gt;&gt;&gt;</span> 10_00_00 + 0.00_00_01
100000.000001</code>
</pre>
      </div>

      <p>El guion bajo no puede aparecer en el extremo de los números, ni en los extremos de las partes entera o decimal de los números decimales, ni escribirse dos guiones bajos seguidos.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 1_000 + _1000
Traceback (most recent call last):
  File <span class="error-message">"&lt;python-input-4&gt;"</span>, line <span class="error-message">1</span>, in <span class="error-message">&lt;module&gt;</span>
    1_000 + <span class="error-message-highlight">_1000</span>
            <span class="error-message-highlight">^^^^^</span>
<span class="error-message"><strong>NameError</strong>: name '_1000' is not defined</span>
<span class="python-prompt">&gt;&gt;&gt;</span> 1_000 + 1000_
  File <span class="error-message">"&lt;python-input-5&gt;"</span>, line <span class="error-message">1</span>
    1_000 + 1000<span class="error-message-highlight">_</span>
                <span class="error-message-highlight">^</span>
<span class="error-message"><strong>SyntaxError</strong>: invalid deciaml literal</span>
<span class="python-prompt">&gt;&gt;&gt;</span> 1_000 + 0._1
  File <span class="error-message">"&lt;python-input-6&gt;"</span>, line <span class="error-message">1</span>
    1_000 + 0<span class="error-message-highlight">.</span>_1
             <span class="error-message-highlight">^</span>
<span class="error-message"><strong>SyntaxError</strong>: invalid deciaml literal</span>
<span class="python-prompt">&gt;&gt;&gt;</span> 1_000 + 0.1_
  File <span class="error-message">"&lt;python-input-7&gt;"</span>, line <span class="error-message">1</span>
    1_000 + 0.1<span class="error-message-highlight">_</span>
               <span class="error-message-highlight">^</span>
<span class="error-message"><strong>SyntaxError</strong>: invalid deciaml literal</span>
<span class="python-prompt">&gt;&gt;&gt;</span> 1_000 + 1__000
  File <span class="error-message">"&lt;python-input-8&gt;"</span>, line <span class="error-message">1</span>
    1_000 + 1<span class="error-message-highlight">_</span>_000
             <span class="error-message-highlight">^</span>
<span class="error-message"><strong>SyntaxError</strong>: invalid deciaml literal</span></code>
</pre>
      </div>
    </section>
  </section>

  <section id="operaciones-basicas">
    <h2>Las cuatro operaciones básicas</h2>

    <p>Las cuatro operaciones aritméticas básicas son la suma (+), la resta (-), la multiplicación (*) y la división (/).</p>

    <p>Al hacer operaciones en las que intervienen números enteros y decimales, el resultado es siempre decimal. En el caso de que el resultado no tenga parte decimal, Python escribe 0 como parte decimal para indicar que el resultado es un número decimal:</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 4.5 * 3
13.5
<span class="python-prompt">&gt;&gt;&gt;</span> 4.5 * 2
9.0</code>
</pre>
    </div>

    <p>Al sumar, restar o multiplicar números enteros, el resultado es entero.</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 1 + 2
3
<span class="python-prompt">&gt;&gt;&gt;</span> 3 - 4
-1
<span class="python-prompt">&gt;&gt;&gt;</span> 5 * 6
30</code>
</pre>
    </div>

    <p>Al dividir números enteros, el resultado es siempre decimal, aunque sea un número entero. Cuando Python escribe un número decimal, lo escribe siempre con parte decimal, aunque sea nula.</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 9 / 2
4.5
<span class="python-prompt">&gt;&gt;&gt;</span> 9 / 3
3.0</code>
</pre>
    </div>

    <hr class="corta">

    <p>Dividir por cero genera un error:</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 5 / 0
Traceback (most recent call last):
  File <span class="error-message">"&lt;python-input-7&gt;"</span>, line <span class="error-message">1</span>, in <span class="error-message">&lt;module&gt;</span>
    <span class="error-message-highlight">5 / 0</span>
    <span class="error-message-highlight">~~^~~</span>
<span class="error-message"><strong>ZeroDivisionError</strong>: division by zero</span></code>
</pre>
    </div>

    <hr class="corta">

    <p>Cuando en una fórmula aparecen varias operaciones, Python las efectúa aplicando las reglas usuales de prioridad de las operaciones (primero multiplicaciones y divisiones, después sumas y restas).</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 1 + 2 * 3
7
<span class="python-prompt">&gt;&gt;&gt;</span> 10 - 4 / 2
8.0</code>
</pre>
    </div>

    <p>En caso de querer que las operaciones se realicen en otro orden, se deben utilizar paréntesis.</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> (5 + 8) / (7 - 2)
2.6</code>
</pre>
    </div>

    <hr class="corta">

    <p><img src="../varios/iconos/icono-warning.svg" alt="¡Atención!" title="¡Atención!" width="55" height="48">Al realizar operaciones con decimales, los resultados pueden presentar errores de redondeo:</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 100 / 3
33.333333333333336</code>
</pre>
    </div>

    <p>Este error se debe a que Python almacena los números decimales en binario y pasar de decimal a binario provoca errores de redondeo, como se explica en el apartado <a href="#decimales-binario">Representación de números decimales en binario</a>. Es un error que sufren casi todos los lenguajes de programación. Si necesitamos precisión absoluta, debemos utilizar bibliotecas específicas.</p>

    <hr class="corta">

    <p><img src="../varios/iconos/icono-warning.svg" alt="¡Atención!" title="¡Atención!" width="55" height="48">Debido a los errores de redondeo, dos operaciones que debieran dar el mismo resultado pueden dar resultados diferentes:</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 4 * 3 / 5
2.4
<span class="python-prompt">&gt;&gt;&gt;</span> 4 / 5 * 3
2.4000000000000004</code>
</pre>
    </div>

    <hr class="corta">

    <p>Se pueden escribir sumas y restas seguidas, pero no se recomienda hacerlo porque no es una notación habitual:</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 3 + - + 4
-1
<span class="python-prompt">&gt;&gt;&gt;</span> 3 - + - + 4
7</code>
</pre>
    </div>

    <p>Lo que no se puede hacer es escribir multiplicaciones y divisiones seguidas:</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 3 * / 4
  File <span class="error-message">"&lt;python-input-16&gt;"</span>, line <span class="error-message">1</span>
    3 * <span class="error-message-highlight">/</span> 4
        <span class="error-message-highlight">^</span>
<span class="error-message"><strong>SyntaxError</strong>: invalid syntax</span></code>
</pre>
    </div>
  </section>

  <section id="cociente-resto">
    <h2>Cociente y resto de una división</h2>

    <p>El cociente y resto de una división están relacionados con el dividendo y divisor mediante la fórmula:</p>

    <p>
      <img src="../img/matematicas/mates-cociente-resto.svg" alt="Cociente y resto de una división" width="541" height="283">
    </p>

    <p>El cociente es siempre un número entero, pero el resto puede ser entero o decimal. En Python, el resto y el divisor tienen siempre el mismo signo y en valor absoluto (sin signo) el resto es siempre inferior al divisor.</p>

    <p><strong>Nota</strong>: Como se comenta en la lección <a href="python-detalles.html#division-enteros">Detalles del lenguaje</a>, el cociente y el divisor de una división en la que intervienen números enteros negativos no se calcula de la misma manera en los distintos lenguajes de programación.</p>

    <section id="cociente-division">
      <h3>Cociente de una división</h3>

      <p>El cociente de una división se calcula en Python con el operador //. El resultado es siempre un número entero, pero será de tipo entero o decimal dependiendo del tipo de los números empleados (en caso de ser decimal, la parte decimal es siempre cero). Por ejemplo:</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 11 // 3
3
<span class="python-prompt">&gt;&gt;&gt;</span> 9 // 2
4
<span class="python-prompt">&gt;&gt;&gt;</span> 20.0 // 7
2.0
<span class="python-prompt">&gt;&gt;&gt;</span> 20 // 6.0
3.0</code>
</pre>
      </div>

      <p>El operador cociente // tiene la misma prioridad que la división:</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 26 // 5 / 2
2.5
<span class="python-prompt">&gt;&gt;&gt;</span> (26 // 5) / 2
2.5
<span class="python-prompt">&gt;&gt;&gt;</span> 26 // (5 / 2)
10.0</code>
</pre>
      </div>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 26 / 5 // 2
2.0
<span class="python-prompt">&gt;&gt;&gt;</span> (26 / 5) // 2
2.0
<span class="python-prompt">&gt;&gt;&gt;</span> 26 / (5 // 2)
13.0</code>
</pre>
      </div>
    </section>

    <section id="resto-division">
      <h3>Resto de una división</h3>

      <p>El resto de una división se calcula en Python con el operador %. El resultado tendrá tipo entero o decimal, de acuerdo con el resultado de la operación</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 11 % 3
2
<span class="python-prompt">&gt;&gt;&gt;</span> 9 % 2
1
<span class="python-prompt">&gt;&gt;&gt;</span> 10 % 5
0
<span class="python-prompt">&gt;&gt;&gt;</span> 10.5 % 3
1.5</code>
</pre>
      </div>

      <p><img src="../varios/iconos/icono-warning.svg" alt="¡Atención!" title="¡Atención!" width="55" height="48">Cuando el resultado es decimal, pueden aparecer los problemas de redondeo comentados anteriormente.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 10.2 % 3
1.1999999999999993 # El resultado correcto es 1.2
<span class="python-prompt">&gt;&gt;&gt;</span> 10 % 4.2
1.5999999999999996 # El resultado correcto es 1.6
<span class="python-prompt">&gt;&gt;&gt;</span> 10.1 % 5.1
5.0                # Este resultado coincide con el resultado correcto</code>
</pre>
      </div>

      <p>El operador resto % tiene la misma prioridad que la división:</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 26 % 5 / 2
0.5
<span class="python-prompt">&gt;&gt;&gt;</span> (26 % 5) / 2
0.5
<span class="python-prompt">&gt;&gt;&gt;</span> 26 % (5 / 2)
1.0</code>
</pre>
      </div>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 26 / 5 % 2
1.2000000000000002
<span class="python-prompt">&gt;&gt;&gt;</span> (26 / 5) % 2
1.2000000000000002
<span class="python-prompt">&gt;&gt;&gt;</span> 26 / (5 % 2)
26.0</code>
</pre>
      </div>
    </section>

    <section id="divmod">
      <h3>La función integrada <span class="idle-func">divmod</span>()</h3>

      <p>La función integrada <span class="idle-func">divmod</span>(<var>x</var>, <var>y</var>) devuelve una tupla formada por el cociente y el resto de la división de <var>x</var> entre <var>y</var>..</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> divmod(13, 4)
(3, 1)</code>
</pre>
      </div>
    </section>
  </section>

  <section id="potencias">
    <h2>Potencias y raíces</h2>

    <p>Las potencias se calculan con el operador **, teniendo en cuenta que x ** y = x<sup>y</sup>.</p>

    <p>Las potencias tienen prioridad sobre las multiplicaciones y divisiones.</p>

    <p>Utilizando exponentes negativos o decimales se pueden calcular potencias inversas o raíces n-ésimas.</p>

    <p>
      <img src="../img/matematicas/mates-potencias.svg" alt="Potencias negativas y fraccionarias" width="466" height="159">
    </p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 2 ** 3
8
<span class="python-prompt">&gt;&gt;&gt;</span> 10 ** -4           # Recuerde que a<sup>-b</sup> = 1 / a<sup>b</sup>
0.0001
<span class="python-prompt">&gt;&gt;&gt;</span> 9 ** 0.5           # Recuerde que a<sup>1/b</sup> es la raíz b-ésima de a
3.0
<span class="python-prompt">&gt;&gt;&gt;</span> -9 ** 0.5          # Calcula primero la raíz cuadrada y luego pone el -
-3.0
<span class="python-prompt">&gt;&gt;&gt;</span> (-9) ** 0.5        # La raíz cuadrada de un número negativo es un número complejo
                       # Debería dar (3j) pero aparece un error de redondeo
(1.8369701987210297e-16+3j)</code>
</pre>
    </div>

    <hr class="corta">

    <p>También se pueden calcular potencias o raíces mediante la función integrada <span class="idle-func">pow</span>(x,y). Si se da un tercer argumento, <span class="idle-func">pow</span>(x, y, z), la función calcula primero <var>x</var> elevado a <var>y</var> después calcula el resto de la división por <var>z</var>.</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> pow(2, 3)
8
<span class="python-prompt">&gt;&gt;&gt;</span> pow(4, 0.5)
2.0
<span class="python-prompt">&gt;&gt;&gt;</span> pow(2, 3, 5)
3</code>
</pre>
    </div>
  </section>

  <section id="redondear">
    <h2>Redondear un número</h2>

    <p>Aunque no se puede dar una regla válida en todas las situaciones, normalmente es conveniente redondear el resultado de un cálculo cuando se muestra al usuario, sobre todo si tiene muchos decimales, para facilitar su lectura.</p>

    <p>Lo que no se debe hacer nunca es redondear resultados intermedios que se vayan a utilizar en cálculos posteriores, porque el resultado final será diferente.</p>

    <section id="redondear-round">
      <h3>La función integrada <span class="idle-func">round</span>()</h3>

      <p>Para redondear un número (por ejemplo, cuando se muestra al usuario el resultado final de un cálculo), se puede utilizar la función integrada <span class="idle-func">round</span>(). La función integrada <span class="idle-func">round</span>() admite uno o dos argumentos numéricos.</p>

      <ul>
        <li>Si sólo hay un argumento, la función devuelve el argumento redondeado al entero más próximo:

          <div class="terminal">
            <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> round(4.35)
4
<span class="python-prompt">&gt;&gt;&gt;</span> round(4.62)
5
<span class="python-prompt">&gt;&gt;&gt;</span> round(-4.35)
-4
<span class="python-prompt">&gt;&gt;&gt;</span> round(-4.62)
-5</code>
</pre>
          </div>
        </li>
        <li>Si se escriben dos argumentos, siendo el segundo un número entero, la función integrada <span class="idle-func">round</span>() devuelve el primer argumento redondeado en la posición indicada por el segundo argumento.
          <ul>
            <li>Si el segundo argumento es positivo, el primer argumento se redondea con el número de decimales indicado:

              <div class="terminal">
                <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> round(4.3527, 1)
4.4
<span class="python-prompt">&gt;&gt;&gt;</span> round(4.3527, 2)
4.35
<span class="python-prompt">&gt;&gt;&gt;</span> round(4.3527, 3)
4.353</code>
</pre>
              </div>

              <p>Si se piden más decimales de los que tiene el número, se obtiene el mismo número, sin cambios:</p>

              <div class="terminal">
                <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> round(4.3527, 7)
4.3527
<span class="python-prompt">&gt;&gt;&gt;</span> round(435, 2)
435</code>
</pre>
              </div>
            </li>
            <li>Si el segundo argumento es 0 y el primero es un número decimal, se redondea al entero más próximo, como cuando no se escribe segundo argumento, pero la diferencia es que el resultado es decimal y no entero.

              <div class="terminal">
                <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> round(4.3527, 0)
4.0
<span class="python-prompt">&gt;&gt;&gt;</span> round(4.3527)
4</code>
</pre>
              </div>

              <p>Si el segundo argumento es 0 y el primero es un número entero, el resultado es entero:</p>

              <div class="terminal">
                <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> round(435, 0)
435</code>
</pre>
              </div>
            </li>
            <li>Si el segundo argumento es negativo, se redondea a decenas, centenas, etc.

              <div class="terminal">
                <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> round(4352, -1) # El número está más cerca de 4350 que de 4360
4350
<span class="python-prompt">&gt;&gt;&gt;</span> round(4352, -2) # El número está más cerca de 4400 que de 4300
4400
<span class="python-prompt">&gt;&gt;&gt;</span> round(4352, -3) # El número está más cerca de 4000 que de 5000
4000
<span class="python-prompt">&gt;&gt;&gt;</span> round(4352, -4)  # El número está más cerca de 0 que de 10000
0</code>
</pre>
              </div>
            </li>
          </ul>
        </li>
      </ul>

      <hr class="corta">

      <p>La función integrada <span class="idle-func">round</span>() redondea correctamente al número más próximo del orden de magnitud deseado (entero, décimas, decenas, centésimas, centenas, etc). El problema es cuando el número a redondear está justo en medio (por ejemplo, redondear 3.5 a entero, 4.85 a décimas, etc.). En Matemáticas se suele redondear siempre hacia arriba, pero en Python se sigue otro criterio:</p>
      <ul>
        <li>Cuando se redondea a enteros, decenas, centenas, etc., Python redondea de manera que la última cifra (la redondeada) sea par.

          <div class="terminal">
            <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> round(3.5)
4
<span class="python-prompt">&gt;&gt;&gt;</span> round(4.5)
4
<span class="python-prompt">&gt;&gt;&gt;</span> round(5.5)
6
<span class="python-prompt">&gt;&gt;&gt;</span> round(6.5)
6</code>
</pre>
          </div>

          <div class="terminal">
            <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> round(450, -2)
400
<span class="python-prompt">&gt;&gt;&gt;</span> round(350, -2)
400
<span class="python-prompt">&gt;&gt;&gt;</span> round(250, -2)
200
<span class="python-prompt">&gt;&gt;&gt;</span> round(150, -2)
200
<span class="python-prompt">&gt;&gt;&gt;</span> round(50, -2)
0</code>
</pre>
          </div>
        </li>
        <li>Cuando se redondea a décimas, centésimas, etc., Python redondea en unos casos para arriba y en otros para abajo, debido a la forma inexacta en que se representan internamente los números decimales (como se explica en el apartado <a href="#decimales-binario">Representación de números decimales en binario</a>):

          <div class="terminal">
            <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> round(3.15, 1)
3.1
<span class="python-prompt">&gt;&gt;&gt;</span> round(3.25, 1)
3.2
<span class="python-prompt">&gt;&gt;&gt;</span> round(3.35, 1)
3.4
<span class="python-prompt">&gt;&gt;&gt;</span> round(3.45, 1)
3.5
<span class="python-prompt">&gt;&gt;&gt;</span> round(3.55, 1)
3.5
<span class="python-prompt">&gt;&gt;&gt;</span> round(3.65, 1)
3.6</code>
</pre>
          </div>

          <div class="terminal">
            <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> round(0.315, 2)
0.32
<span class="python-prompt">&gt;&gt;&gt;</span> round(0.325, 2)
0.33
<span class="python-prompt">&gt;&gt;&gt;</span> round(0.335, 2)
0.34
<span class="python-prompt">&gt;&gt;&gt;</span> round(0.345, 2)
0.34
<span class="python-prompt">&gt;&gt;&gt;</span> round(0.355, 2)
0.35
<span class="python-prompt">&gt;&gt;&gt;</span> round(0.365, 2)
0.36</code>
</pre>
          </div>

          <p>Este redondeo se debe a la forma en que Python representa internamente los números decimales. Es un problema que presentan la mayoría de lenguajes de programación y se explica en el apartado siguiente.</p>
        </li>
      </ul>
    </section>

    <section id="redondear-floor-ceil">
      <h3>Redondear al entero anterior o posterior: las funciones <span class="idle-func">floor</span>() y <span class="idle-func">ceil</span>()</h3>

      <p>Para redondear un número al entero anterior o posterior, se pueden utilizar las funciones <span class="idle-func">floor</span>() y <span class="idle-func">ceil</span>(), que están incluidas en la biblioteca <strong>math</strong>. Estas funciones sólo admiten un argumento (el número o el cálculo a redondear) y devuelven valores enteros.</p>

      <p>Antes de utilizar estas funciones, hay que importarlas, o se generará un error.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> floor(5 / 2)
Traceback (most recent call last):
  File <span class="error-message">"&lt;python-input-0&gt;"</span>, line <span class="error-message">1</span>, in <span class="error-message">&lt;module&gt;</span>
    <span class="error-message-highlight">floor</span>(5 / 2)
    <span class="error-message-highlight">^^^^^</span>
<span class="error-message"><strong>NameError</strong>: name 'floor' is not defined. Did you mean: 'float'?</span>
<span class="python-prompt">&gt;&gt;&gt;</span> ceil(5 / 2)
Traceback (most recent call last):
  File <span class="error-message">"&lt;python-input-1&gt;"</span>, line <span class="error-message">1</span>, in <span class="error-message">&lt;module&gt;</span>
    <span class="error-message-highlight">ceil</span>(5 / 2)
    <span class="error-message-highlight">^^^^</span>
<span class="error-message"><strong>NameError</strong>: name 'ceil' is not defined</span></code>
</pre>
      </div>

      <p>Las funciones includias en alguna biblioteca se pueden importar de forma conjunta o de manera individual. Se suele recomendar importarlas de forma conjunta.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> import math
<span class="python-prompt">&gt;&gt;&gt;</span> math.floor(5 / 2)
2
<span class="python-prompt">&gt;&gt;&gt;</span> math.floor(2.9999)
2
<span class="python-prompt">&gt;&gt;&gt;</span> math.ceil(5 / 2)
3
<span class="python-prompt">&gt;&gt;&gt;</span> math.ceil(2.9999)
3</code>
</pre>
      </div>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> from math import floor
<span class="python-prompt">&gt;&gt;&gt;</span> floor(5 / 2)
2
<span class="python-prompt">&gt;&gt;&gt;</span> floor(2.9999)
2
<span class="python-prompt">&gt;&gt;&gt;</span> from math import ceil
<span class="python-prompt">&gt;&gt;&gt;</span> ceil(5 / 2)
3
<span class="python-prompt">&gt;&gt;&gt;</span> ceil(2.9999)
3</code>
</pre>
      </div>
    </section>
  </section>

  <section id="decimales-binario">
    <h2>Representación de números decimales en binario</h2>

    <p>En Python los números decimales se almacenan internamente en binario con 53 bits de precisión (en concreto, se trata del formato de coma flotante de doble precisión de la norma IEEE-754). Cuando un programa pide a Python un cálculo con números decimales, Python convierte esos números decimales a binario, realiza la operación en binario y convierte el resultado de nuevo en decimal para mostrárselo al usuario.</p>

    <p>El problema es que muchos números decimales no se pueden representarse de forma exacta en binario, por lo que los resultados no pueden ser exactos. Eso explica, por ejemplo, los resultados del ejemplo anterior:</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> round(3.45, 1)
3.5
<span class="python-prompt">&gt;&gt;&gt;</span> round(3.55, 1)
3.5</code>
</pre>
    </div>

    <p>En el primer ejemplo, al convertir 3.45 a binario con 53 bits de precisión, el valor obtenido es realmente 3.45000000000000017763568394002504646778106689453125, es decir, ligeramente mayor que 3.45, por lo que al redondear con décimas, Python muestra el valor 3.5.</p>

    <p>En el segundo ejemplo, al convertir 3.55 a binario con 53 bits de precisión, el valor obtenido es realmente 3.54999999999999982236431605997495353221893310546875, es decir, ligeramente inferior a 3.55, por lo que al redondear con décimas, Python muestra también el valor 3.5.</p>

    <p><strong>Nota</strong>:</p>
    <ul>
      <li>Para ver el valor que se obtiene al convertir un número decimal a binario se puede utilizar el tipo Decimal de la biblioteca decimal:

        <div class="terminal">
          <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> from decimal import Decimal
<span class="python-prompt">&gt;&gt;&gt;</span> Decimal(3.45)
Decimal('3.45000000000000017763568394002504646778106689453125')
<span class="python-prompt">&gt;&gt;&gt;</span> Decimal(3.55)
Decimal('3.54999999999999982236431605997495353221893310546875')</code>
</pre>
        </div>
      </li>
    </ul>
    <hr class="corta">

    <p>El problema del redondeo se agudiza cuando se hacen operaciones, puesto que los errores pueden acumularse (aunque a veces se compensan y pasan desapercibidos).</p>

    <p>En algunos casos extremos, el error es apreciable en cálculos muy sencillos:</p>

    <div class="terminal">
      <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> 0.1 + 0.1 + 0.1
0.30000000000000004</code>
</pre>
    </div>

    <p>En la mayoría de situaciones, estos errores no tienen consecuencias importantes en los resultados finales, pero si en una aplicación concreta se necesita total exactitud, se deben utilizar bibliotecas específicas. Python incluye la biblioteca <a href="https://docs.python.org/3/library/decimal.html">decimal</a> y existen bibliotecas como <a href="https://mpmath.org/">mpmath</a> que admiten precisión arbitraria.</p>

    <hr class="corta">

    <p>Para saber más:</p>
    <ul>
      <li>IEEE-754 <a href="https://en.wikipedia.org/wiki/Single-precision_floating-point_format">precisión simple</a>, <a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format">precisión doble</a> (Wikipedia en inglés)</li>
      <li>Manual de Python 3: <a href="https://docs.python.org/3/tutorial/floatingpoint.html">limitaciones de los decimales en Python</a></li>
      <li>Artículo <a href="http://www.lahey.com/float.htm">The perils of Floating Point, de Bruce M. Bush</a></li>
      <li>Artículo <a href="https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html">What Every Computer Scientist Should Know About Floating-Point Arithmetic, de David Goldberg</a></li>
      <li>Web <a href="https://floating-point-gui.de/">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a></li>
    </ul>
  </section>

  <section id="funciones-integradas">
    <h2>Otras funciones integradas (<i>built-in functions</i>)</h2>

    <p>El intérprete de Python incorpora varias funciones integradas que realizan operaciones matemáticas muy habituales.</p>

    <section id="valor-absoluto">
      <h3>Valor absoluto: <span class="idle-func">abs</span>() </h3>

      <p>La función integrada <span class="idle-func">abs</span>() calcula el valor absoluto de un número, es decir, el valor sin signo.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> abs(-6)
6
<span class="python-prompt">&gt;&gt;&gt;</span> abs(7)
7</code>
</pre>
      </div>
    </section>

    <section id="maximo">
      <h3>Máximo: <span class="idle-func">max</span>()</h3>

      <p>La función integrada <span class="idle-func">max</span>() calcula el valor máximo de un conjunto de valores (numéricos o alfabéticos). En el caso de cadenas, el valor máximo corresponde al último valor en orden alfabético, sin importar la longitud de la cadena.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> max(4, 5, -2, 8, 3.5, -10)
8
<span class="python-prompt">&gt;&gt;&gt;</span> max("David", "Alicia", "Tomás", "Emilio")
'Tomás'</code>
</pre>
      </div>

      <p>Las vocales acentuadas, la letra ñ o ç se consideran posteriores al resto de vocales y consonantes</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> max("Ángeles", "Roberto")
'Ángeles'</code>
</pre>
      </div>
    </section>

    <section id="minimo">
      <h3>Mínimo: <span class="idle-func">min</span>()</h3>

      <p>La función integrada <span class="idle-func">min</span>() calcula el valor mínimo de un conjunto de valores (numéricos o alfabéticos). En el caso de cadenas, el valor mínimo corresponde al primer valor en orden alfabético, sin importar la longitud de la cadena.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> min(4, 5, -2, 8, 3.5, -10)
-10
<span class="python-prompt">&gt;&gt;&gt;</span> min("David", "Alicia", "Tomás", "Emilio")
'Alicia'</code>
</pre>
      </div>

      <p>Las vocales acentuadas, la letra ñ o ç se consideran posteriores al resto de vocales y consonantes</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> min("Ángeles", "Roberto")
'Roberto'</code>
</pre>
      </div>
    </section>

    <section id="suma">
      <h3>Suma: <span class="idle-func">sum</span>()</h3>

      <p>La función integrada <span class="idle-func">sum</span>() calcula la suma de un conjunto de valores. El conjunto de valores debe ser un tipo de datos iterable (tupla, rango, lista, conjunto o diccionario).</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> sum((1, 2, 3, 4, 5))
15
<span class="python-prompt">&gt;&gt;&gt;</span> sum([1, 2, 3, 4, 5])
15
<span class="python-prompt">&gt;&gt;&gt;</span> sum(range(6))
15
<span class="python-prompt">&gt;&gt;&gt;</span> sum({1, 2, 3, 4, 5})
15
<span class="python-prompt">&gt;&gt;&gt;</span> sum(1, 2, 3, 4, 5)
Traceback (most recent call last):
  File <span class="error-message">"&lt;python-input-4&gt;"</span>, line <span class="error-message">1</span>, in <span class="error-message">&lt;module&gt;</span>
    sum<span class="error-message-highlight">(1, 2, 3, 4, 5)</span>
    ~~~<span class="error-message-highlight">^^^^^^^^^^^^^^^</span>
<span class="error-message"><strong>TypeError</strong>: sum() takes at most 2 arguments (5 given)</span></code>
</pre>
      </div>
    </section>

    <section id="ordenacion">
      <h3>Ordenación: <span class="idle-func">sorted</span>()</h3>

      <p>La función integrada <span class="idle-func">sorted</span>() ordena un conjunto de valores. El conjunto de valores debe ser un tipo de datos iterable (tupla, rango, lista, conjunto o diccionario). El conjunto de valores no se modifica, la función devuelve una lista con los elementos ordenados.</p>

      <div class="terminal">
        <pre>
<code class="language-shell"><span class="python-prompt">&gt;&gt;&gt;</span> sorted((10, 2, 8, -3, 6))
[-3, 2, 6, 8, 10]
<span class="python-prompt">&gt;&gt;&gt;</span> sorted([10, 2, 8, -3, 6])
[-3, 2, 6, 8, 10]
<span class="python-prompt">&gt;&gt;&gt;</span> ({10, 2, 8, -3, 6})
[-3, 2, 6, 8, 10]
<span class="python-prompt">&gt;&gt;&gt;</span> sorted(("David", "Alicia", "Tomás", "Emilio"))
['Alicia', 'David', 'Emilio', 'Tomás']
<span class="python-prompt">&gt;&gt;&gt;</span> sorted(["David", "Ángeles", "Tomás", "Óscar", "Emilio"])
['David', 'Emilio', 'Tomás', 'Ángeles', 'Óscar']
<span class="python-prompt">&gt;&gt;&gt;</span> sorted(10, 2, 8, -3, 6)
Traceback (most recent call last):
  File <span class="error-message">"&lt;python-input-4&gt;"</span>, line <span class="error-message">1</span>, in <span class="error-message">&lt;module&gt;</span>
    sorted<span class="error-message-highlight">(10, 2, 8, -3, 6)</span>
    ~~~~~~<span class="error-message-highlight">^^^^^^^^^^^^^^^^^</span>
<span class="error-message"><strong>TypeError</strong>: sorted() expected 1 argument, got 5</span></code>
</pre>
      </div>
    </section>
  </section>

  <footer>
    <p class="ultmod">Última modificación de esta página: 18 de enero de 2025</p>

    <p class="licencia">
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es"><img src="../varios/iconos/icono-cc-by-sa.svg" alt="Licencia Creative Commons" title="Licencia Creative Commons BY-SA" width="120" height="42"></a><br>
      Esta página forma parte del curso <strong><a href="https://www.mclibre.org/consultar/python/">Introducción a la programación con Python</a></strong> por <a href="https://www.mclibre.org/">Bartolomé Sintes Marco</a><br>
      que se distribuye bajo una <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es">Licencia Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional (CC BY-SA 4.0)</a>.
    </p>
  </footer>
</body>
</html>
