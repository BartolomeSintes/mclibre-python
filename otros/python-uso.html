<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Ejecutar programas. Python. Bartolomé Sintes Marco. www.mclibre.org</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../varios/python.css" title="mclibre">
  <link rel="icon" href="../varios/favicon.svg">
  <link rel="stylesheet" href="../varios/prism.css">
  <script src="../varios/prism.js"></script>
</head>

<body>
  <h1>Ejecutar programas de Python</h1>

  <nav>
    <p>
      <a href="../index.html"><img src="../varios/iconos/icono-python.svg" alt="Índice de Python" title="Índice de Python" width="48" height="48"></a>
      <a href="#"><img src="../varios/iconos/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36"></a>
    </p>

    <div class="toc">
      <h2>Ejecutar programas</h2>

      <ul>
        <li><a href="#ejecutar-vscode">en VSCode</a></li>
        <li><a href="#ejecutar-terminal">en terminal</a></li>
        <li><a href="#ejecutar-idle">en IDLE</a></li>
        <li><a href="#ejecutar-entorno">en entorno interactivo</a></li>
        <li><a href="#py-pyw">Diferencia entre .py y .pyw</a></li>
      </ul>
    </div>
  </nav>

  <p>Un programa de Python es un fichero de texto plano con la extensión .py (o .pyw como se comenta al final de esta lección). Se puede crear un programa de Python con cualquier editor de texto plano, pero se recomienda utilizar editores de programación que incluyen herramientas que facilitan la escritura de programas, como IDLE o Visual Studio Code.</p>

  <p>En estos apuntes se recomienda desde el curso 2018/19 el uso de Visual Studio Code. Por ello, los ejemplos de programas o las soluciones de los ejercicios se muestran en los apuntes con fondo negro y texto en colores, imitando el interfaz de Visual Studio Code.</p>

  <p>En esta lección se comentan las diferentes formas posibles de ejecutar un programa de Python:</p>
  <ul>
    <li>en el editor Visual Studio Code, que es la forma más cómoda si estamos utilizando Visual Studio Code como editor</li>
    <li>en un terminal (o una ventana de terminal de Windows), que suele ser la forma más habitual</li>
    <li>en el editor IDLE, que es la forma más cómoda si estamos utilizando IDLE como editor</li>
    <li>en el entorno interactivo, que apenas suele hacerse</li>
  </ul>

  <section id="ejecutar-vscode">
    <h2>Ejecutar programas en Visual Studio Code</h2>

    <p>Si se ha configurado Visual Studio Code de acuerdo con la lección <a href="vsc-python-configuracion.html">Configuración recomendada para VSCode</a>, se recomienda ejecutar los programas mediante los <a href="vsc-python-configuracion.html#atajo-ctrl+alt+t">atajos de teclado comentados en esa lección</a>:</p>
    <ul>
      <li>Los dos atajos (<span class="soft-atajo-teclado">Ctrl+Alt++</span> y <span class="soft-atajo-teclado">Ctrl+Alt+-</span>) permiten pasar el foco de la ventana de edición a la ventana del terminal y viceversa.
        <p>Si no se había abierto todavía ninguna ventana de terminal, el atajo abre una nueva ventana de terminal automáticamente. La primera vez que se abre una ventana de terminal, la ventana se abre en el directorio raíz del área de trabajo.</p>
      </li>
      <li>El atajo <span class="soft-atajo-teclado">Ctrl+Alt+t Ctrl+Alt+c</span> permite cerrar el terminal.</li>
      <li>El atajo <span class="soft-atajo-teclado">Ctrl+Alt+t Ctrl+Alt+l</span> permite limpiar el terminal.</li>
      <li>El atajo <span class="soft-atajo-teclado">Ctrl+Alt+F5</span> ejecuta el programa que se está editando, manteniendo el foco en el editor. Este atajo es útil cuando el programa a ejecutar no pide datos al usuario. </li>
      <li>El atajo <span class="soft-atajo-teclado">Ctrl+Alt+Shift+F5</span> ejecuta el programa que se está editando, pasando el foco al terminal. Este atajo es útil cuando el programa a ejecutar pide datos al usuario. Una vez ejecutado el programa, para volver al editor se puede utilizar el atajo <span class="soft-atajo-teclado">Ctrl+Alt+-</span>.</li>
    </ul>
  </section>

  <section id="ejecutar-terminal">
    <h2>Ejecutar programas en ventana de terminal</h2>

    <p>Para ejecutar un programa en una ventana de terminal, es necesario estar situado en el directorio en el que se encuentra el programa.</p>

    <h3>Abrir la ventana de terminal en Windows (CMD o PowerShell)</h3>

    <p>Puede abrir una ventana de terminal clásico (CMD) de varias maneras, que se muestran a continuación.</p>
    <ul>
      <li>Haga clic en Inicio, escriba <i>cmd</i> y haga clic en alguno de los accesos directos a "Símbolo de sistema".
        <p class="captura">
          <img src="../img/idle/w10-cmd-abrir-1.png" alt="Abrir una ventana de terminal CMD en Windows 10" width="850" height="520">
        </p>
        <p>Se abrirá una ventana de CMD en el directorio del usuario. El inconveniente es que hay que desplazarse con comandos <span class="terminal-comando">cd</span> hasta el directorio que contiene el programa o ejecutarlo escribiendo su ruta completa.</p>
        <p class="captura">
          <img src="../img/idle/w10-cmd-abrir-2.png" alt="Abrir una ventana de terminal CMD en Windows 10" width="1024" height="150">
        </p>
      </li>
      <li>Otra opción más interesante porque abre la ventana de terminal directamente en la carpeta en la que se encuentra el programa es la siguiente:
      <p>Muestre en el Explorador de archivos de Windows la carpeta que contiene el programa, haga clic a la derecha de la ruta para que se muestre y seleccione el camino absoluto, borre el texto y escriba en su lugar cmd y pulse <span class="soft-atajo-teclado">Intro</span>.</p>
        <p class="captura">
          <img src="../img/idle/w10-cmd-abrir-3.png" alt="Abrir una ventana de terminal CMD en Windows 10" width="1024" height="200">
        </p>
        <p class="captura">
          <img src="../img/idle/w10-cmd-abrir-4.png" alt="Abrir una ventana de terminal CMD en Windows 10" width="1024" height="200">
        </p>
        <p class="captura">
          <img src="../img/idle/w10-cmd-abrir-5.png" alt="Abrir una ventana de terminal CMD en Windows 10" width="1024" height="200">
        </p>
        <p>Se abrirá una ventana de CMD en el directorio donde se encuentra el programa.</p>
        <p class="captura">
          <img src="../img/idle/w10-cmd-abrir-6.png" alt="Abrir una ventana de terminal CMD en Windows 10" width="1125" height="340">
        </p>
      </li>
    </ul>

    <p>Puede abrir una ventana de terminal PowerShell de varias maneras, que se muestran a continuación.</p>
    <ul>
      <li>Haga clic en Inicio, escriba <i>powershell</i> y haga clic en alguno de los accesos directos a "Windows PowerShell".
        <p class="captura">
          <img src="../img/idle/w10-powershell-abrir-1.png" alt="Abrir una ventana de PowerShell en Windows 10" width="852" height="540">
        </p>
        <p>Se abrirá una ventana de PowerShell en el directorio del usuario. El inconveniente es que hay que desplazarse con comandos <span class="terminal-comando">cd</span> hasta el directorio que contiene el programa o ejecutarlo escribiendo su ruta completa.</p>
        <p class="captura">
          <img src="../img/idle/w10-powershell-abrir-2.png" alt="Abrir una ventana de PowerShell en Windows 10" width="899" height="170">
        </p>
      </li>
      <li>Otra opción más interesante porque abre la ventana de PowerShell directamente en la carpeta en la que se encuentra el programa es la siguiente:
      <p>Muestre en el Explorador de archivos de Windows la carpeta que contiene el programa, haga <span class="soft-atajo-teclado">Shift + clic derecho</span> y elija la opción "Abrir la ventana de PowerShell aquí".</p>
        <p class="captura">
          <img src="../img/idle/w10-powershell-abrir-3.png" alt="Abrir una ventana de PowerShell en Windows 10" width="1024" height="370">
        </p>
        <p>Se abrirá una ventana de PowerShell en el directorio donde se encuentra el programa.</p>
        <p class="captura">
          <img src="../img/idle/w10-powershell-abrir-4.png" alt="Abrir una ventana de PowerShell en Windows 10" width="1120" height="310">
        </p>
      </li>
    </ul>

    <h3>Ejecutar el programa</h3>

    <p>Una vez abierta la ventana de terminal en el directorio en el que se encuentra el programa, puede ejecutar el programa de varias formas. En los ejemplos siguientes, se ejecuta un programa prueba.py en la carpeta pruebas que escribe ¡Hola, mundo! en la pantalla.</p>

    <ul>
      <li>En una ventana de comandos de Windows 7 o Windows 10, puede ejecutar un programa de varias maneras:
        <ul>
          <li>escriba simplemente el nombre del programa:
            <div class="terminal">
              <pre>
<code class="language-shell">C:\Users\Barto\Documents\LMSGI Barto\Python\pruebas&gt;prueba.py
¡Hola, mundo!
C:\Users\Barto\Documents\LMSGI Barto\Python\pruebas&gt;</code>
</pre>
            </div>
          </li>
          <li>escriba py y el nombre del programa:
            <div class="terminal">
              <pre>
<code class="language-shell">C:\Users\Barto\Documents\LMSGI Barto\Python\pruebas&gt;py prueba.py
¡Hola, mundo!
C:\Users\Barto\Documents\LMSGI Barto\Python\pruebas&gt;</code>
</pre>
            </div>
          </li>
          <li>escriba python y el nombre del programa:
            <div class="terminal">
              <pre>
<code class="language-shell">C:\Users\Barto\Documents\LMSGI Barto\Python\pruebas&gt;python prueba.py
¡Hola, mundo!
C:\Users\Barto\Documents\LMSGI Barto\Python\pruebas&gt;</code>
</pre>
            </div>
          </li>
        </ul>
      </li>
      <li>En una ventana de PowerShell Windows 10, puede ejecutar un programa de varias maneras:
        <ul>
          <li>escriba py y el nombre del programa:
            <div class="powershell">
              <pre>
<code class="language-shell">PS C:\Users\Barto\Documents\LMSGI Barto\Python\pruebas&gt;<span class="ps-program">py</span> prueba.py
¡Hola, mundo!
PS C:\Users\Barto\Documents\LMSGI Barto\Python\pruebas&gt;</code>
</pre>
            </div>
          </li>
          <li>escriba python y el nombre del programa:
            <div class="powershell">
              <pre>
<code class="language-shell">PS C:\Users\Barto\Documents\LMSGI Barto\Python\pruebas&gt;<span class="ps-program">python</span> prueba.py
¡Hola, mundo!
PS C:\Users\Barto\Documents\LMSGI Barto\Python\pruebas&gt;</code>
</pre>
            </div>
          </li>
        </ul>
      </li>
    </ul>

    <hr class="corta">

    <p>Por otro lado, como el instalador de Python registra la extensión .py, puede ejecutar un programa de Python en Windows haciendo doble clic sobre él en el explorador de Windows. El problema es que los programas se ejecutan en una ventana de MS-DOS que se abre al iniciarse el programa y que se cierra cuando el programa termina. Para evitar que los programas terminen, puede añadir una última línea con la función <span class="idle-func">input</span>() que, como se explica en la <a href="../lecciones/python-entrada-teclado.html">lección sobre la entrada por teclado</a>, se queda esperando a que pulsemos la tecla Intro. Al pulsar Intro, la ventana se cerrará.</p>

    <p>El inconveniente de esta solución es que cuando se ejecuta el programa en IDLE, el programa también se queda esperando que pulsemos Intro y es fácil olvidar hacerlo. Si no pulsamos Intro, al ejecutar un segundo programa, IDLE sigue esperando que pulsemos Intro para el primer programa y da la impresión de no funcionar correctamente. En general, antes de ejecutar un programa, hay que comprobar que en la ventana principal de IDLE el cursor esté visible junto al prompt <span class="idle-prompt">&gt;&gt;&gt;</span>.</p>
  </section>

  <section id="ejecutar-idle">
    <h2>Ejecutar programas en IDLE</h2>

    <p>IDLE permite escribir y ejecutar programas de Python. los programas se escriben en ventanas secundarias y el resultado de la ejecución se muestra en la ventana principal de IDLE, como se comenta en la lección <a href="python-idle.html">IDLE, entorno de desarrollo</a>.</p>
  </section>

  <section id="ejecutar-entorno">
    <h2>Ejecutar programas en entorno interactivo</h2>

    <p>Es posible ejecutar programas desde un entorno interactivo, recurriendo a la función exec(), como muestra el siguiente ejemplo.</p>

    <div class="terminal">
      <pre>
<code class="language-shell">Python 3.11.0 (main, Oct 24 2022, 18:26:48) [MSC v.1933 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; exec(open("ejemplo.py").read())</code>
</pre>
    </div>

  </section>

  <section id="py-pyw">
    <h2>Diferencia entre .py y .pyw</h2>

    <p>Los programas Python pueden tener dos extensiones: .py y .pyw. La más utilizada es la primera, .py.</p>

    <p>Si se ejecutan desde IDLE, no hay diferencia entre ambas extensiones.</p>

    <p>Pero si se ejecutan desde un terminal o haciendo doble clic sobre los ficheros, entonces sí que hay diferencias. Los archivos .py son ejecutados por python.exe, mientras que los archivos .pyw son ejecutados por pythonw.exe. La principal diferencia es que python.exe crea una ventana de terminal (o aprovecha la ventana de terminal desde la que se ejecuta el programa), ventana que permite pedir valores al usuario o imprimir mensajes, mientras que pythonw.exe no crea ninguna ventana de terminal.</p>

    <p>Solamente se debe utilizar la extensión .pyw si el programa crea y gestiona su propia ventana de interfaz de usuario o si no queremos ni pedir datos al usuario ni mostrarle ninguna salida del programa. En caso contrario, es mejor utilizar la extensión .py.</p>

    <p>Otra diferencia es que python.exe ejecuta los programas de forma síncrona, es decir, que en un terminal no se puede ejecutar un nuevo programa .py hasta que ha terminado el programa anterior, mientras que pythonw.exe ejecuta los programas de forma asíncrona, es decir, que se pueden ir ejecutando nuevos programas aunque los anteriores no hayan terminado de ejecutarse.</p>
  </section>

  <footer>
    <p class="ultmod">Última modificación de esta página: 5 de enero de 2023</p>

    <p class="licencia">
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES"><img src="../varios/iconos/icono-cc-by-sa.svg" alt="Licencia Creative Commons" title="Licencia Creative Commons BY-SA" width="120" height="42"></a><br>
      Esta página forma parte del curso <strong><a href="https://www.mclibre.org/consultar/python/">Introducción a la programación con Python</a></strong> por <a href="https://www.mclibre.org/">Bartolomé Sintes Marco</a><br>
      que se distribuye bajo una <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Licencia Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional (CC BY-SA 4.0)</a>.
    </p>
  </footer>
</body>
</html>
